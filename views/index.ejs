<%- include("partials/header") %>

<h2 class="mb-4 animate__animated animate__fadeInDown">All Books</h2>

<!-- Sort Buttons -->
<div class="mb-4">
  <a href="/?sort=created_at_desc" class="btn btn-outline-primary btn-sm">Newest</a>
  <a href="/?sort=created_at_asc" class="btn btn-outline-primary btn-sm">Oldest</a>
  <a href="/?sort=rating_desc" class="btn btn-outline-primary btn-sm">Top Rated</a>
  <a href="/?sort=rating_asc" class="btn btn-outline-primary btn-sm">Lowest Rated</a>
</div>

<!-- Book Grid -->
<div class="book-grid">
  <% books.forEach(book => { %>
      <div class="book-card animate-fade">
          <img src="<%= book.cover_url %>" class="book-img">
          <div class="book-info">
              <div class="book-title"><%= book.title %></div>
              <div class="book-author">by <%= book.author %></div>
              <div class="book-rating">‚≠ê <%= book.rating %></div>
          </div>
      </div>
  <% }) %>
</div>
<div class="pagination-container">
  <% if (page > 1) { %>
    <a href="/?page=<%= page - 1 %>&sort=<%= sort %>" class="btn btn-outline-secondary">Prev</a>
  <% } %>

  <span class="page-info">Page <%= page %> of <%= totalPages %></span>

  <% if (page < totalPages) { %>
    <a href="/?page=<%= page + 1 %>&sort=<%= sort %>" class="btn btn-outline-secondary">Next</a>
  <% } %>
</div>



<%- include("partials/footer") %>
